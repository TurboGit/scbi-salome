
#  These are settings to use an installed SALOME binary (Windows or Linux)

[[ -z $SCBI_SALOME_BIN ]] &&
    echo SCBI_SALOME_BIN must be defined and pointing to a SALOME install &&
    exit 1

function s-salome-bin-win-env()
{
    local IROOT=$SCBI_SALOME_BIN
    local IEXT=$IROOT/EXT

    add-to-var INCLUDE               $IEXT/include

    add-to-var HDF5_ROOT             $IEXT
    add-to-var HDF5_INCLUDE_DIRS     $IEXT/include
    add-to-var HDF5_LIBRARIES        $IEXT/lib/libhdf5.lib
    add-to-var HDF5_HL_LIBRARIES     $IEXT/lib/libhdf5_hl.lib

    add-to-var LIBXML2_INCLUDE_DIR   $IEXT/include
    add-to-var LIBXML2_LIBRARY       $IEXT/lib/libxml2.lib

    add-to-var Python3_INCLUDE_DIRS  $IROOT/Python/include
    add-to-var Python3_EXECUTABLE    $IROOT/Python/python3.exe
    add-to-var Python3_LIBRARIES     $IROOT/Python/python3.lib

    add-to-var FREETYPE_LIBRARY      $IEXT/lib/freetype.lib

    add-to-var ZLIB_LIBRARY          $IEXT/bin/zlib.lib

    add-to-var CGNS_LIBRARY          $IEXT/lib/cgns.lib

    add-to-var TBB_ROOT              $IEXT

    while read CMP; do
        add-to-var CMAKE_PREFIX_PATH "$CMP"
    done < <( find $IROOT -name "*onfig.cmake" -exec dirname {} \; | uniq )
}

function s-salome-bin-linux-env()
{
    local IROOT=$SCBI_SALOME_BIN/BINARIES-DB10
    local IPROD=$IROOT/PRODUCTS

    add-to-var C_INCLUDE_PATH       $IPROD/include

    add-to-var HDF5_ROOT            $IPROD
    add-to-var HDF5_INCLUDE_DIRS    $IPROD/include
    add-to-var HDF5_LIBRARIES       $IPROD/lib/libhdf5.so
    add-to-var HDF5_HL_LIBRARIES    $IPROD/lib/libhdf5_hl.so

    add-to-var CGNS_LIBRARY         $IPROD/lib/cgns.so
    add-to-var KERNEL_ROOT_DIR      $IROOT/KERNEL
    add-to-var OMNIORB_ROOT_DIR     $IROOT/omniORB
    add-to-var GUI_ROOT_DIR         $IROOT/GUI

    while read CMP; do
        add-to-var CMAKE_PREFIX_PATH "$CMP"
    done < <( find $IROOT -name "*onfig.cmake" -exec dirname {} \; | uniq )
}
