
function s-salome-bin-depends()
{
    echo s-salome-tar
}

####################################################### WINDOWS

function s-salome-bin-win-env()
{
    local IROOT=$SCBI_SALOME_BIN
    local IEXT=$IROOT/EXT

    add-to-var INCLUDE               $IEXT/include

    set-var    HDF5_ROOT             $IEXT
    add-to-var HDF5_INCLUDE_DIRS     $IEXT/include
    add-to-var HDF5_LIBRARIES        $IEXT/lib/libhdf5.lib
    add-to-var HDF5_HL_LIBRARIES     $IEXT/lib/libhdf5_hl.lib

    add-to-var LIBXML2_INCLUDE_DIR   $IEXT/include
    add-to-var LIBXML2_LIBRARY       $IEXT/lib/libxml2.lib

    add-to-var Python3_INCLUDE_DIRS  $IROOT/Python/include
    add-to-var Python3_EXECUTABLE    $IROOT/Python/python3.exe
    add-to-var Python3_LIBRARIES     $IROOT/Python/python3.lib

    set-var    FREETYPE_LIBRARY      $IEXT/lib/freetype.lib

    set-var    ZLIB_LIBRARY          $IEXT/bin/zlib.lib

    set-var    CGNS_LIBRARY          $IEXT/lib/cgns.lib

    set-var    TBB_ROOT              $IEXT

    while read CMP; do
        add-to-var CMAKE_PREFIX_PATH "$CMP"
    done < <( find $IROOT -name "*onfig.cmake" -exec dirname {} \; | uniq )
}

####################################################### LINUX

function s-salome-bin-linux-env()
{
    . ${SALOME_BIN_APPLICATION}/env_launch.sh

    #  Some missing settings in env_launch.sh

    [[ -d $SALOME_BIN_MODULES/cmake/bin ]] &&
        add-to-var PATH $SALOME_BIN_MODULES/cmake/bin

    add-to-var CMAKE_PREFIX_PATH  $KERNEL_ROOT_DIR/salome_adm/cmake_files
    add-to-var CMAKE_PREFIX_PATH  $GUI_ROOT_DIR/adm_local/cmake_files
    add-to-var CMAKE_PREFIX_PATH  $YACS_ROOT_DIR/adm/cmake
    add-to-var CMAKE_PREFIX_PATH  $OPENTURNS_ROOT_DIR/lib/cmake/openturns
    add-to-var CMAKE_PREFIX_PATH  $OPENTURNS_ROOT_DIR/lib/cmake/otmoris
    add-to-var CMAKE_PREFIX_PATH  $PY2CPP_ROOT_DIR/lib/cmake/py2cpp
    add-to-var CMAKE_PREFIX_PATH  $BOOST_ROOT_DIR/lib/cmake
    add-to-var CMAKE_PREFIX_PATH  $LIBBATCH_ROOT_DIR/share/cmake/libbatch
    add-to-var CMAKE_PREFIX_PATH  $YDEFX_ROOT_DIR/salome_adm/cmake_files
    add-to-var CMAKE_PREFIX_PATH  $QWT_ROOT_DIR

    add-to-var C_INCLUDE_PATH     $PY2CPP_ROOT_DIR/include
    add-to-var CPLUS_INCLUDE_PATH $PY2CPP_ROOT_DIR/include

    export PYTHON_VERSION=$(python3 --version | cut -d' ' -f2 | cut -c1-3)
}
