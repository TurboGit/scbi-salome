
function s-salome-syrthes-salome-module()
{
    echo SYRTHES
}

function s-salome-syrthes-ng-build-depends()
{
    echo s-salome-bin
}

function s-salome-syrthes-common-build-depends()
{
    echo s-cmake
}

function s-salome-syrthes-common-depends()
{
    echo s-saturne
    echo s-syrthes
    echo s-salome-configuration
}

function s-salome-syrthes-default-depends()
{
    echo s-tbb
    echo s-salome-gui
    echo s-med-coupling
}

function s-salome-syrthes-env()
{
    local PREFIX=$1
    local TARGET=$2

    set-var     SYRTHES_ROOT_DIR           $PREFIX
    set-var     SYRTHES_DIR                $PREFIX

    add-to-var  PATH                $PREFIX/bin/salome

    add-to-var  PYTHONPATH          \
                $PREFIX/lib/python$PYTHON_VERSION/site-packages/salome
    add-to-var  PYTHONPATH          $PREFIX/bin/salome

    add-to-var  SalomeAppConfig     $PREFIX/share/salome/resources/syrthes
    add-to-var  SALOME_MODULES      SYRTHES

    add-to-var  C_INCLUDE_PATH      $PREFIX/include
    add-to-var  CPLUS_INCLUDE_PATH  $PREFIX/include
}

function s-salome-syrthes-build-env()
{
    local PREFIX=$1
    local TARGET=$2
    local VARIANT=$3

    set-var ROOT_SALOME $ROOT_SALOME_INSTALL
}

function s-salome-syrthes-pre-config()
{
    local PREFIX=$1
    local TARGET=$2

    sed -i "s&getSalomePyQt().getDesktop(), True, showDialog)&getSalomePyQt().getDesktop(), showDialog)&" ../src/src/SYRTHESGUI/clientgui.py
}

function s-salome-syrthes-config()
{
    local PREFIX=$1
    local TARGET=$2

    cmake  -DCMAKE_INSTALL_PREFIX=$PREFIX \
           ../src
}

function s-salome-syrthes-build()
{
    local PREFIX=$1
    local TARGET=$2

    make -j$SCBI_JOBS
}

function s-salome-syrthes-install()
{
    local PREFIX=$1
    local TARGET=$2

    make install
}

function s-salome-syrthes-post-install()
{
    local PREFIX=$1
    local TARGET=$2

    cp $PREFIX/share/salome/resources/syrthes/SalomeAppSL.xml \
       $PREFIX/share/salome/resources/syrthes/SalomeApp.xml
}
