
with-variant native \
             os@-python3-pyqt5:[v] os@-pyqt5-dev:[v]  os@-pyqt5-dev-tools \
       --env 'set-var PYQT5_ROOT_DIR /usr'

function s-pyqt-tar()
{
    local VERSION=$1

    echo default
    echo none
    echo wget
    echo https://minio.retd.edf.fr/salome/YAMM/Public/SALOME/sources/prerequis
    echo PyQt5-gpl-$VERSION.tar.gz
}

function s-pyqt-build-depends()
{
    echo s-cmake
}

function s-pyqt-depends()
{
    echo s-python
    echo s-qt
    echo s-sip
    echo s-pyqt-sip
}

function s-pyqt-env()
{
    local PREFIX=$1
    local TARGET=$2

    set-var    PYQT5_ROOT_DIR  $PREFIX
    set-var    PYQT_ROOT_DIR   $PREFIX

    add-to-var PATH            $PREFIX/bin
    add-to-var LD_LIBRARY_PATH $PREFIX/lib
    add-to-var PYTHONPATH      $PREFIX/lib/python$PYTHON_VERSION/site-packages
}

function s-pyqt-out-of-tree()
{
    echo false
}

# /usr/include/python3.5m/sip.h

function s-pyqt-config()
{
    local PREFIX=$1
    local TARGET=$2

#    mkdir -p $PREFIX/lib/python$PYTHON_VERSION/site-packages

    python3 ./configure.py --confirm-license \
            --no-designer-plugin \
            --verbose \
            --bindir=${PREFIX}/bin \
            --destdir=${PREFIX}/lib/python$PYTHON_VERSION/site-packages \
            --sipdir=${PYQT_SIPS} \
            --sip-incdir=${PYQT_SIPS}/include \
            --disable=QtNetwork \
            --disable=QtWebSocket


#    python3 configure.py --confirm-license \
#            -b $PREFIX/bin \
#            -d $PREFIX/lib/python$PYTHON_VERSION/site-packages \
#            -v $PREFIX/share/sip \
#            --designer-plugindir=$PREFIX/include/python$PYTHON_VERSION \
#            --qml-plugindir=$PREFIX/include/python$PYTHON_VERSION \
#            --stubsdir=$PREFIX/lib/python$PYTHON_VERSION/site-packages/PyQt5 \
#            --sip-incdir=$SIP_ROOT_DIR/include/python$PYTHON_VERSION
}

function s-pyqt-build()
{
    local PREFIX=$1
    local TARGET=$2

    make -j$SCBI_JOBS
}

function s-pyqt-install()
{
    local PREFIX=$1
    local TARGET=$2

    make install
}

function s-pyqt-prefix()
{
    echo NONE
}
